<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>19.2 The security within your app | Mastering Shiny Book Club</title>
  <meta name="description" content="This is the product of the R4DS Online Learning Community’s Book Club." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="19.2 The security within your app | Mastering Shiny Book Club" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the product of the R4DS Online Learning Community’s Book Club." />
  <meta name="github-repo" content="r4ds/bookclub-mshiny" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="19.2 The security within your app | Mastering Shiny Book Club" />
  
  <meta name="twitter:description" content="This is the product of the R4DS Online Learning Community’s Book Club." />
  

<meta name="author" content="The R4DS Online Learning Community" />


<meta name="date" content="2021-07-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-7.html"/>
<link rel="next" href="compute-resources.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/d3-3.3.8/d3.min.js"></script>
<script src="libs/dagre-0.4.0/dagre-d3.min.js"></script>
<link href="libs/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet" />
<script src="libs/mermaid-0.3.0/dist/mermaid.slim.min.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/chromatography-0.1/chromatography.js"></script>
<script src="libs/DiagrammeR-binding-1.0.6.1/DiagrammeR.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Mastering Shiny Book Club</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="book-club-meetings.html"><a href="book-club-meetings.html"><i class="fa fa-check"></i>Book club meetings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="your-first-shiny-app.html"><a href="your-first-shiny-app.html"><i class="fa fa-check"></i><b>1</b> Your first Shiny app</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1.1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction.html"><a href="introduction.html#if-you-havent-installed-shiny-already"><i class="fa fa-check"></i><b>1.1.1</b> If you haven’t installed Shiny already:</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="creating-an-app.html"><a href="creating-an-app.html"><i class="fa fa-check"></i><b>1.2</b> Creating an app</a></li>
<li class="chapter" data-level="1.3" data-path="running-and-stopping-the-app.html"><a href="running-and-stopping-the-app.html"><i class="fa fa-check"></i><b>1.3</b> Running and stopping the app</a><ul>
<li class="chapter" data-level="1.3.1" data-path="running-and-stopping-the-app.html"><a href="running-and-stopping-the-app.html#running-the-app"><i class="fa fa-check"></i><b>1.3.1</b> Running the app</a></li>
<li class="chapter" data-level="1.3.2" data-path="running-and-stopping-the-app.html"><a href="running-and-stopping-the-app.html#stopping-the-app"><i class="fa fa-check"></i><b>1.3.2</b> Stopping the app:</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="adding-ui-controls.html"><a href="adding-ui-controls.html"><i class="fa fa-check"></i><b>1.4</b> Adding UI controls</a></li>
<li class="chapter" data-level="1.5" data-path="adding-behaviour.html"><a href="adding-behaviour.html"><i class="fa fa-check"></i><b>1.5</b> Adding behaviour</a></li>
<li class="chapter" data-level="1.6" data-path="reactive-expressions.html"><a href="reactive-expressions.html"><i class="fa fa-check"></i><b>1.6</b> Reactive expressions</a></li>
<li class="chapter" data-level="1.7" data-path="visualising-reactive-expressions.html"><a href="visualising-reactive-expressions.html"><i class="fa fa-check"></i><b>1.7</b> Visualising reactive expressions</a></li>
<li class="chapter" data-level="1.8" data-path="shiny-resources.html"><a href="shiny-resources.html"><i class="fa fa-check"></i><b>1.8</b> Shiny resources</a><ul>
<li class="chapter" data-level="1.8.1" data-path="shiny-resources.html"><a href="shiny-resources.html#other-resources"><i class="fa fa-check"></i><b>1.8.1</b> Other resources</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="meeting-videos.html"><a href="meeting-videos.html"><i class="fa fa-check"></i><b>1.9</b> Meeting Videos</a><ul>
<li class="chapter" data-level="1.9.1" data-path="meeting-videos.html"><a href="meeting-videos.html#cohort-1"><i class="fa fa-check"></i><b>1.9.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="shiny-basic-user-interface.html"><a href="shiny-basic-user-interface.html"><i class="fa fa-check"></i><b>2</b> Shiny - Basic User Interface</a><ul>
<li class="chapter" data-level="2.1" data-path="learning-objectives.html"><a href="learning-objectives.html"><i class="fa fa-check"></i><b>2.1</b> Learning objectives</a></li>
<li class="chapter" data-level="2.2" data-path="fyi.html"><a href="fyi.html"><i class="fa fa-check"></i><b>2.2</b> FYI</a></li>
<li class="chapter" data-level="2.3" data-path="the-shiny-basic-user-interfaceui.html"><a href="the-shiny-basic-user-interfaceui.html"><i class="fa fa-check"></i><b>2.3</b> The Shiny Basic User Interface(ui)</a></li>
<li class="chapter" data-level="2.4" data-path="what-can-one-input.html"><a href="what-can-one-input.html"><i class="fa fa-check"></i><b>2.4</b> What Can One INPUT?</a></li>
<li class="chapter" data-level="2.5" data-path="input-1-text-numeric.html"><a href="input-1-text-numeric.html"><i class="fa fa-check"></i><b>2.5</b> Input 1 - Text &amp; Numeric</a></li>
<li class="chapter" data-level="2.6" data-path="inputs-2-dates-limited-choices-file-uploads-action-buttons.html"><a href="inputs-2-dates-limited-choices-file-uploads-action-buttons.html"><i class="fa fa-check"></i><b>2.6</b> Inputs 2 - Dates, Limited choices, File uploads, Action buttons</a></li>
<li class="chapter" data-level="2.7" data-path="what-can-one-output.html"><a href="what-can-one-output.html"><i class="fa fa-check"></i><b>2.7</b> What can one OUTPUT?</a><ul>
<li class="chapter" data-level="" data-path="what-can-one-output.html"><a href="what-can-one-output.html#text"><i class="fa fa-check"></i>Text</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="outputs-2-tables.html"><a href="outputs-2-tables.html"><i class="fa fa-check"></i><b>2.8</b> Outputs 2 - Tables</a></li>
<li class="chapter" data-level="2.9" data-path="outputs-3-plots-downloads.html"><a href="outputs-3-plots-downloads.html"><i class="fa fa-check"></i><b>2.9</b> Outputs 3 - Plots, Downloads</a></li>
<li class="chapter" data-level="2.10" data-path="layouts.html"><a href="layouts.html"><i class="fa fa-check"></i><b>2.10</b> Layouts</a></li>
<li class="chapter" data-level="2.11" data-path="under-the-hood.html"><a href="under-the-hood.html"><i class="fa fa-check"></i><b>2.11</b> Under the hood</a></li>
<li class="chapter" data-level="2.12" data-path="other-tools-material.html"><a href="other-tools-material.html"><i class="fa fa-check"></i><b>2.12</b> Other tools &amp; material</a></li>
<li class="chapter" data-level="2.13" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>2.13</b> Summary</a></li>
<li class="chapter" data-level="2.14" data-path="thank-you.html"><a href="thank-you.html"><i class="fa fa-check"></i><b>2.14</b> Thank you</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basic-reactivity.html"><a href="basic-reactivity.html"><i class="fa fa-check"></i><b>3</b> Basic Reactivity</a><ul>
<li class="chapter" data-level="3.1" data-path="recap.html"><a href="recap.html"><i class="fa fa-check"></i><b>3.1</b> Recap</a></li>
<li class="chapter" data-level="3.2" data-path="reactive-programming.html"><a href="reactive-programming.html"><i class="fa fa-check"></i><b>3.2</b> Reactive Programming</a><ul>
<li class="chapter" data-level="3.2.1" data-path="reactive-programming.html"><a href="reactive-programming.html#imperative-vs-declarative-programming"><i class="fa fa-check"></i><b>3.2.1</b> Imperative vs declarative programming</a></li>
<li class="chapter" data-level="3.2.2" data-path="reactive-programming.html"><a href="reactive-programming.html#laziness"><i class="fa fa-check"></i><b>3.2.2</b> Laziness</a></li>
<li class="chapter" data-level="3.2.3" data-path="reactive-programming.html"><a href="reactive-programming.html#the-reactive-graph"><i class="fa fa-check"></i><b>3.2.3</b> The reactive graph</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="reactive-expressions-1.html"><a href="reactive-expressions-1.html"><i class="fa fa-check"></i><b>3.3</b> Reactive expressions</a></li>
<li class="chapter" data-level="3.4" data-path="controlling-timing-of-evaluation.html"><a href="controlling-timing-of-evaluation.html"><i class="fa fa-check"></i><b>3.4</b> Controlling timing of evaluation</a></li>
<li class="chapter" data-level="3.5" data-path="observers.html"><a href="observers.html"><i class="fa fa-check"></i><b>3.5</b> Observers</a></li>
<li class="chapter" data-level="3.6" data-path="execises.html"><a href="execises.html"><i class="fa fa-check"></i><b>3.6</b> Execises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="case-study-er-injuries.html"><a href="case-study-er-injuries.html"><i class="fa fa-check"></i><b>4</b> Case study: ER injuries</a><ul>
<li class="chapter" data-level="4.1" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="the-data.html"><a href="the-data.html"><i class="fa fa-check"></i><b>4.2</b> The data</a></li>
<li class="chapter" data-level="4.3" data-path="exploration.html"><a href="exploration.html"><i class="fa fa-check"></i><b>4.3</b> Exploration</a></li>
<li class="chapter" data-level="4.4" data-path="prototype.html"><a href="prototype.html"><i class="fa fa-check"></i><b>4.4</b> Prototype</a></li>
<li class="chapter" data-level="4.5" data-path="polish-tables.html"><a href="polish-tables.html"><i class="fa fa-check"></i><b>4.5</b> Polish tables</a></li>
<li class="chapter" data-level="4.6" data-path="rate-vs-count.html"><a href="rate-vs-count.html"><i class="fa fa-check"></i><b>4.6</b> Rate vs count</a></li>
<li class="chapter" data-level="4.7" data-path="narrative.html"><a href="narrative.html"><i class="fa fa-check"></i><b>4.7</b> Narrative</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>5</b> Workflow</a><ul>
<li class="chapter" data-level="5.1" data-path="why-workflow.html"><a href="why-workflow.html"><i class="fa fa-check"></i><b>5.1</b> Why workflow?</a></li>
<li class="chapter" data-level="5.2" data-path="learning-objectives-1.html"><a href="learning-objectives-1.html"><i class="fa fa-check"></i><b>5.2</b> Learning objectives</a></li>
<li class="chapter" data-level="5.3" data-path="development-workflow.html"><a href="development-workflow.html"><i class="fa fa-check"></i><b>5.3</b> Development workflow</a><ul>
<li class="chapter" data-level="5.3.1" data-path="development-workflow.html"><a href="development-workflow.html#creating-apps"><i class="fa fa-check"></i><b>5.3.1</b> Creating apps</a></li>
<li class="chapter" data-level="5.3.2" data-path="development-workflow.html"><a href="development-workflow.html#seeing-your-changes-faster"><i class="fa fa-check"></i><b>5.3.2</b> Seeing your changes faster</a></li>
<li class="chapter" data-level="5.3.3" data-path="development-workflow.html"><a href="development-workflow.html#controlling-the-view"><i class="fa fa-check"></i><b>5.3.3</b> Controlling the view</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="debugging.html"><a href="debugging.html"><i class="fa fa-check"></i><b>5.4</b> Debugging</a><ul>
<li class="chapter" data-level="5.4.1" data-path="debugging.html"><a href="debugging.html#three-dubugging-challengeswhat-goes-wrong"><i class="fa fa-check"></i><b>5.4.1</b> Three dubugging Challenges(What goes wrong)</a></li>
<li class="chapter" data-level="5.4.2" data-path="debugging.html"><a href="debugging.html#how-to-fix-errors-using-tracebacks"><i class="fa fa-check"></i><b>5.4.2</b> How to fix errors (using tracebacks)</a></li>
<li class="chapter" data-level="5.4.3" data-path="debugging.html"><a href="debugging.html#three-part-of-shiny-error-stack"><i class="fa fa-check"></i><b>5.4.3</b> Three part of Shiny error stack</a></li>
<li class="chapter" data-level="5.4.4" data-path="debugging.html"><a href="debugging.html#how-to-fix-errors-using-interactive-debugger"><i class="fa fa-check"></i><b>5.4.4</b> How to fix errors (using interactive debugger)</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="getting-help-using-reprex.html"><a href="getting-help-using-reprex.html"><i class="fa fa-check"></i><b>5.5</b> Getting help (using Reprex)</a><ul>
<li class="chapter" data-level="5.5.1" data-path="getting-help-using-reprex.html"><a href="getting-help-using-reprex.html#how-to-make-a-reprex"><i class="fa fa-check"></i><b>5.5.1</b> How to make a reprex</a></li>
<li class="chapter" data-level="5.5.2" data-path="getting-help-using-reprex.html"><a href="getting-help-using-reprex.html#making-a-minimal-reprex"><i class="fa fa-check"></i><b>5.5.2</b> Making a minimal reprex</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="layout-themes-html.html"><a href="layout-themes-html.html"><i class="fa fa-check"></i><b>6</b> Layout, themes, HTML</a><ul>
<li class="chapter" data-level="6.1" data-path="disclaimer.html"><a href="disclaimer.html"><i class="fa fa-check"></i><b>6.1</b> Disclaimer</a></li>
<li class="chapter" data-level="6.2" data-path="learning-objectives-2.html"><a href="learning-objectives-2.html"><i class="fa fa-check"></i><b>6.2</b> Learning objectives</a></li>
<li class="chapter" data-level="6.3" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>6.3</b> Resources</a><ul>
<li class="chapter" data-level="6.3.1" data-path="resources.html"><a href="resources.html#websites"><i class="fa fa-check"></i><b>6.3.1</b> Websites</a></li>
<li class="chapter" data-level="6.3.2" data-path="resources.html"><a href="resources.html#books"><i class="fa fa-check"></i><b>6.3.2</b> Books</a></li>
<li class="chapter" data-level="6.3.3" data-path="resources.html"><a href="resources.html#packages-tools"><i class="fa fa-check"></i><b>6.3.3</b> Packages / Tools</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="under-the-hood-1.html"><a href="under-the-hood-1.html"><i class="fa fa-check"></i><b>6.4</b> Under the hood</a><ul>
<li class="chapter" data-level="6.4.1" data-path="under-the-hood-1.html"><a href="under-the-hood-1.html#html---hypertext-markup-language"><i class="fa fa-check"></i><b>6.4.1</b> HTML - Hypertext markup language</a></li>
<li class="chapter" data-level="6.4.2" data-path="under-the-hood-1.html"><a href="under-the-hood-1.html#writing-html-with-shiny-htmltools"><i class="fa fa-check"></i><b>6.4.2</b> Writing HTML with <code>shiny</code> / <code>htmltools</code></a></li>
<li class="chapter" data-level="6.4.3" data-path="under-the-hood-1.html"><a href="under-the-hood-1.html#css---cascading-style-sheets"><i class="fa fa-check"></i><b>6.4.3</b> CSS - Cascading Style Sheets</a></li>
<li class="chapter" data-level="6.4.4" data-path="under-the-hood-1.html"><a href="under-the-hood-1.html#using-css-to-style-a-shiny-app"><i class="fa fa-check"></i><b>6.4.4</b> Using CSS to style a shiny app</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="bootstrap-themes.html"><a href="bootstrap-themes.html"><i class="fa fa-check"></i><b>6.5</b> Bootstrap &amp; Themes</a></li>
<li class="chapter" data-level="6.6" data-path="layouts-1.html"><a href="layouts-1.html"><i class="fa fa-check"></i><b>6.6</b> Layouts</a><ul>
<li class="chapter" data-level="6.6.1" data-path="layouts-1.html"><a href="layouts-1.html#single-page-layouts"><i class="fa fa-check"></i><b>6.6.1</b> Single-page Layouts</a></li>
<li class="chapter" data-level="6.6.2" data-path="layouts-1.html"><a href="layouts-1.html#multi-page-layouts"><i class="fa fa-check"></i><b>6.6.2</b> Multi-page Layouts</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="case-study.html"><a href="case-study.html"><i class="fa fa-check"></i><b>6.7</b> Case study</a><ul>
<li class="chapter" data-level="6.7.1" data-path="case-study.html"><a href="case-study.html#the-initial-app-app-01.r"><i class="fa fa-check"></i><b>6.7.1</b> The initial app (app-01.R)</a></li>
<li class="chapter" data-level="6.7.2" data-path="case-study.html"><a href="case-study.html#the-final-app-app.r"><i class="fa fa-check"></i><b>6.7.2</b> The final app (app.R)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="graphics-and-shiny.html"><a href="graphics-and-shiny.html"><i class="fa fa-check"></i><b>7</b> Graphics and Shiny</a></li>
<li class="chapter" data-level="8" data-path="user-feedback.html"><a href="user-feedback.html"><i class="fa fa-check"></i><b>8</b> User Feedback</a><ul>
<li class="chapter" data-level="8.1" data-path="validation.html"><a href="validation.html"><i class="fa fa-check"></i><b>8.1</b> Validation</a><ul>
<li class="chapter" data-level="8.1.1" data-path="validation.html"><a href="validation.html#validating-input"><i class="fa fa-check"></i><b>8.1.1</b> Validating input</a></li>
<li class="chapter" data-level="8.1.2" data-path="validation.html"><a href="validation.html#cancelling-execution-with-req"><i class="fa fa-check"></i><b>8.1.2</b> Cancelling execution with <code>req()</code></a></li>
<li class="chapter" data-level="8.1.3" data-path="validation.html"><a href="validation.html#req-and-validation"><i class="fa fa-check"></i><b>8.1.3</b> <code>req()</code> and validation</a></li>
<li class="chapter" data-level="8.1.4" data-path="validation.html"><a href="validation.html#validate-output"><i class="fa fa-check"></i><b>8.1.4</b> Validate output</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="notifications.html"><a href="notifications.html"><i class="fa fa-check"></i><b>8.2</b> Notifications</a><ul>
<li class="chapter" data-level="8.2.1" data-path="notifications.html"><a href="notifications.html#transient-notifications"><i class="fa fa-check"></i><b>8.2.1</b> Transient notifications</a></li>
<li class="chapter" data-level="8.2.2" data-path="notifications.html"><a href="notifications.html#removing-on-completion"><i class="fa fa-check"></i><b>8.2.2</b> Removing on completion</a></li>
<li class="chapter" data-level="8.2.3" data-path="notifications.html"><a href="notifications.html#progressive-updates"><i class="fa fa-check"></i><b>8.2.3</b> Progressive updates</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="progress-bars.html"><a href="progress-bars.html"><i class="fa fa-check"></i><b>8.3</b> Progress bars</a><ul>
<li class="chapter" data-level="8.3.1" data-path="progress-bars.html"><a href="progress-bars.html#shiny"><i class="fa fa-check"></i><b>8.3.1</b> Shiny</a></li>
<li class="chapter" data-level="8.3.2" data-path="progress-bars.html"><a href="progress-bars.html#waiter"><i class="fa fa-check"></i><b>8.3.2</b> Waiter</a></li>
<li class="chapter" data-level="8.3.3" data-path="progress-bars.html"><a href="progress-bars.html#spinners"><i class="fa fa-check"></i><b>8.3.3</b> Spinners</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="confirming-and-undoing.html"><a href="confirming-and-undoing.html"><i class="fa fa-check"></i><b>8.4</b> Confirming and undoing</a><ul>
<li class="chapter" data-level="8.4.1" data-path="confirming-and-undoing.html"><a href="confirming-and-undoing.html#explicit-confirmation"><i class="fa fa-check"></i><b>8.4.1</b> Explicit confirmation</a></li>
<li class="chapter" data-level="8.4.2" data-path="confirming-and-undoing.html"><a href="confirming-and-undoing.html#undoing-an-action"><i class="fa fa-check"></i><b>8.4.2</b> Undoing an action</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="uploads-and-downloads.html"><a href="uploads-and-downloads.html"><i class="fa fa-check"></i><b>9</b> Uploads and Downloads</a><ul>
<li class="chapter" data-level="9.1" data-path="uploads.html"><a href="uploads.html"><i class="fa fa-check"></i><b>9.1</b> Uploads</a><ul>
<li class="chapter" data-level="9.1.1" data-path="uploads.html"><a href="uploads.html#ui"><i class="fa fa-check"></i><b>9.1.1</b> UI</a></li>
<li class="chapter" data-level="9.1.2" data-path="uploads.html"><a href="uploads.html#server"><i class="fa fa-check"></i><b>9.1.2</b> Server</a></li>
<li class="chapter" data-level="9.1.3" data-path="uploads.html"><a href="uploads.html#uploading-data"><i class="fa fa-check"></i><b>9.1.3</b> Uploading data</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="downloads.html"><a href="downloads.html"><i class="fa fa-check"></i><b>9.2</b> Downloads</a><ul>
<li class="chapter" data-level="9.2.1" data-path="downloads.html"><a href="downloads.html#ui-1"><i class="fa fa-check"></i><b>9.2.1</b> UI</a></li>
<li class="chapter" data-level="9.2.2" data-path="downloads.html"><a href="downloads.html#server-1"><i class="fa fa-check"></i><b>9.2.2</b> Server</a></li>
<li class="chapter" data-level="9.2.3" data-path="downloads.html"><a href="downloads.html#downloading-reports"><i class="fa fa-check"></i><b>9.2.3</b> Downloading reports</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dynamic-ui.html"><a href="dynamic-ui.html"><i class="fa fa-check"></i><b>10</b> Dynamic UI</a><ul>
<li class="chapter" data-level="10.1" data-path="introduction-2.html"><a href="introduction-2.html"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="updating-inputs.html"><a href="updating-inputs.html"><i class="fa fa-check"></i><b>10.2</b> Updating inputs</a><ul>
<li class="chapter" data-level="10.2.1" data-path="updating-inputs.html"><a href="updating-inputs.html#update-functions"><i class="fa fa-check"></i><b>10.2.1</b> Update functions</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="dynamic-visibility.html"><a href="dynamic-visibility.html"><i class="fa fa-check"></i><b>10.3</b> Dynamic visibility</a></li>
<li class="chapter" data-level="10.4" data-path="creating-ui-with-code.html"><a href="creating-ui-with-code.html"><i class="fa fa-check"></i><b>10.4</b> Creating UI with code</a></li>
<li class="chapter" data-level="10.5" data-path="conclusions.html"><a href="conclusions.html"><i class="fa fa-check"></i><b>10.5</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="bookmarking.html"><a href="bookmarking.html"><i class="fa fa-check"></i><b>11</b> Bookmarking</a><ul>
<li class="chapter" data-level="11.1" data-path="introduction-3.html"><a href="introduction-3.html"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="modifying-app-to-be-bookmarkable.html"><a href="modifying-app-to-be-bookmarkable.html"><i class="fa fa-check"></i><b>11.2</b> Modifying app to be bookmarkable</a></li>
<li class="chapter" data-level="11.3" data-path="breaking-down-the-url.html"><a href="breaking-down-the-url.html"><i class="fa fa-check"></i><b>11.3</b> Breaking down the URL</a></li>
<li class="chapter" data-level="11.4" data-path="updating-the-url.html"><a href="updating-the-url.html"><i class="fa fa-check"></i><b>11.4</b> Updating the URL</a><ul>
<li class="chapter" data-level="11.4.1" data-path="updating-the-url.html"><a href="updating-the-url.html#storing-a-richer-state"><i class="fa fa-check"></i><b>11.4.1</b> Storing a richer state</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="bookmarking-challenges.html"><a href="bookmarking-challenges.html"><i class="fa fa-check"></i><b>11.5</b> Bookmarking Challenges</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="why-reactivity.html"><a href="why-reactivity.html"><i class="fa fa-check"></i><b>12</b> Why reactivity?</a><ul>
<li class="chapter" data-level="12.1" data-path="introduction-4.html"><a href="introduction-4.html"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="why-do-we-need-reactive-programming.html"><a href="why-do-we-need-reactive-programming.html"><i class="fa fa-check"></i><b>12.2</b> Why do we need reactive programming?</a><ul>
<li class="chapter" data-level="12.2.1" data-path="why-do-we-need-reactive-programming.html"><a href="why-do-we-need-reactive-programming.html#why-cant-you-use-variables"><i class="fa fa-check"></i><b>12.2.1</b> Why can’t you use variables?</a></li>
<li class="chapter" data-level="12.2.2" data-path="why-do-we-need-reactive-programming.html"><a href="why-do-we-need-reactive-programming.html#why-about-functions"><i class="fa fa-check"></i><b>12.2.2</b> Why about functions?</a></li>
<li class="chapter" data-level="12.2.3" data-path="why-do-we-need-reactive-programming.html"><a href="why-do-we-need-reactive-programming.html#event-driven-programming"><i class="fa fa-check"></i><b>12.2.3</b> Event-driven programming</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="reactive-programming-1.html"><a href="reactive-programming-1.html"><i class="fa fa-check"></i><b>12.3</b> Reactive programming</a></li>
<li class="chapter" data-level="12.4" data-path="a-brief-history-of-reactive-programming.html"><a href="a-brief-history-of-reactive-programming.html"><i class="fa fa-check"></i><b>12.4</b> A brief history of reactive programming</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="the-reactive-graph-1.html"><a href="the-reactive-graph-1.html"><i class="fa fa-check"></i><b>13</b> The reactive graph</a><ul>
<li class="chapter" data-level="13.1" data-path="quick-review-of-chapter-3-basic-reactivity.html"><a href="quick-review-of-chapter-3-basic-reactivity.html"><i class="fa fa-check"></i><b>13.1</b> Quick review of chapter 3 Basic reactivity</a></li>
<li class="chapter" data-level="13.2" data-path="introduction-5.html"><a href="introduction-5.html"><i class="fa fa-check"></i><b>13.2</b> Introduction</a></li>
<li class="chapter" data-level="13.3" data-path="an-example.html"><a href="an-example.html"><i class="fa fa-check"></i><b>13.3</b> An example</a></li>
<li class="chapter" data-level="13.4" data-path="excercises.html"><a href="excercises.html"><i class="fa fa-check"></i><b>13.4</b> Excercises</a></li>
<li class="chapter" data-level="13.5" data-path="dynamism.html"><a href="dynamism.html"><i class="fa fa-check"></i><b>13.5</b> Dynamism</a></li>
<li class="chapter" data-level="13.6" data-path="the-reactlog-package.html"><a href="the-reactlog-package.html"><i class="fa fa-check"></i><b>13.6</b> The reactlog package</a></li>
<li class="chapter" data-level="13.7" data-path="summary-1.html"><a href="summary-1.html"><i class="fa fa-check"></i><b>13.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="reactive-building-blocks.html"><a href="reactive-building-blocks.html"><i class="fa fa-check"></i><b>14</b> Reactive Building Blocks</a><ul>
<li class="chapter" data-level="14.1" data-path="learning-objectives-3.html"><a href="learning-objectives-3.html"><i class="fa fa-check"></i><b>14.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="14.2" data-path="tools.html"><a href="tools.html"><i class="fa fa-check"></i><b>14.2</b> Tools</a></li>
<li class="chapter" data-level="14.3" data-path="prerequisite-knowledge.html"><a href="prerequisite-knowledge.html"><i class="fa fa-check"></i><b>14.3</b> Prerequisite Knowledge</a></li>
<li class="chapter" data-level="14.4" data-path="reactive-values.html"><a href="reactive-values.html"><i class="fa fa-check"></i><b>14.4</b> Reactive Values</a></li>
<li class="chapter" data-level="14.5" data-path="reactive-expressions-2.html"><a href="reactive-expressions-2.html"><i class="fa fa-check"></i><b>14.5</b> Reactive Expressions</a><ul>
<li class="chapter" data-level="14.5.1" data-path="reactive-expressions-2.html"><a href="reactive-expressions-2.html#errors"><i class="fa fa-check"></i><b>14.5.1</b> Errors</a></li>
<li class="chapter" data-level="14.5.2" data-path="reactive-expressions-2.html"><a href="reactive-expressions-2.html#on.exit"><i class="fa fa-check"></i><b>14.5.2</b> <code>on.exit()</code></a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="observers-and-outputs.html"><a href="observers-and-outputs.html"><i class="fa fa-check"></i><b>14.6</b> Observers and Outputs</a></li>
<li class="chapter" data-level="14.7" data-path="isolating-code.html"><a href="isolating-code.html"><i class="fa fa-check"></i><b>14.7</b> Isolating Code</a></li>
<li class="chapter" data-level="14.8" data-path="timed-invalidation.html"><a href="timed-invalidation.html"><i class="fa fa-check"></i><b>14.8</b> Timed Invalidation</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="escaping-the-graph.html"><a href="escaping-the-graph.html"><i class="fa fa-check"></i><b>15</b> Escaping the graph</a><ul>
<li class="chapter" data-level="15.1" data-path="introduction-6.html"><a href="introduction-6.html"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="combine-reactive-values.html"><a href="combine-reactive-values.html"><i class="fa fa-check"></i><b>15.2</b> Combine reactive values</a></li>
<li class="chapter" data-level="15.3" data-path="connect-the-right-side-with-the-left-side.html"><a href="connect-the-right-side-with-the-left-side.html"><i class="fa fa-check"></i><b>15.3</b> Connect the right side with the left side</a><ul>
<li class="chapter" data-level="15.3.1" data-path="connect-the-right-side-with-the-left-side.html"><a href="connect-the-right-side-with-the-left-side.html#case-studies"><i class="fa fa-check"></i><b>15.3.1</b> Case Studies:</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="create-infinite-loops.html"><a href="create-infinite-loops.html"><i class="fa fa-check"></i><b>15.4</b> Create infinite loops</a></li>
<li class="chapter" data-level="15.5" data-path="conclusions-1.html"><a href="conclusions-1.html"><i class="fa fa-check"></i><b>15.5</b> Conclusions</a><ul>
<li class="chapter" data-level="15.5.1" data-path="conclusions-1.html"><a href="conclusions-1.html#resources-1"><i class="fa fa-check"></i><b>15.5.1</b> Resources:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="best-practices-general-guidelines.html"><a href="best-practices-general-guidelines.html"><i class="fa fa-check"></i><b>16</b> (Best practices) General guidelines</a><ul>
<li class="chapter" data-level="16.1" data-path="best-practices-section-of-the-book.html"><a href="best-practices-section-of-the-book.html"><i class="fa fa-check"></i><b>16.1</b> “Best practices” section of the book</a></li>
<li class="chapter" data-level="16.2" data-path="software-engineering.html"><a href="software-engineering.html"><i class="fa fa-check"></i><b>16.2</b> Software engineering</a></li>
<li class="chapter" data-level="16.3" data-path="code-organization.html"><a href="code-organization.html"><i class="fa fa-check"></i><b>16.3</b> Code organization</a></li>
<li class="chapter" data-level="16.4" data-path="testing.html"><a href="testing.html"><i class="fa fa-check"></i><b>16.4</b> Testing</a></li>
<li class="chapter" data-level="16.5" data-path="dependency-management.html"><a href="dependency-management.html"><i class="fa fa-check"></i><b>16.5</b> Dependency management</a></li>
<li class="chapter" data-level="16.6" data-path="source-code-management.html"><a href="source-code-management.html"><i class="fa fa-check"></i><b>16.6</b> Source code management</a></li>
<li class="chapter" data-level="16.7" data-path="continuous-integration-continuous-deployment.html"><a href="continuous-integration-continuous-deployment.html"><i class="fa fa-check"></i><b>16.7</b> Continuous integration / Continuous deployment</a></li>
<li class="chapter" data-level="16.8" data-path="code-reviews.html"><a href="code-reviews.html"><i class="fa fa-check"></i><b>16.8</b> Code reviews</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>17</b> Functions</a><ul>
<li class="chapter" data-level="17.1" data-path="file-organization.html"><a href="file-organization.html"><i class="fa fa-check"></i><b>17.1</b> File Organization</a></li>
<li class="chapter" data-level="17.2" data-path="ui-functions.html"><a href="ui-functions.html"><i class="fa fa-check"></i><b>17.2</b> UI Functions</a><ul>
<li class="chapter" data-level="17.2.1" data-path="ui-functions.html"><a href="ui-functions.html#functional-programming"><i class="fa fa-check"></i><b>17.2.1</b> Functional Programming</a></li>
<li class="chapter" data-level="17.2.2" data-path="ui-functions.html"><a href="ui-functions.html#ui-as-data"><i class="fa fa-check"></i><b>17.2.2</b> UI as data</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="server-functions.html"><a href="server-functions.html"><i class="fa fa-check"></i><b>17.3</b> Server Functions</a><ul>
<li class="chapter" data-level="17.3.1" data-path="server-functions.html"><a href="server-functions.html#internal-functions"><i class="fa fa-check"></i><b>17.3.1</b> Internal functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>18</b> Packages</a><ul>
<li class="chapter" data-level="18.1" data-path="package-structure.html"><a href="package-structure.html"><i class="fa fa-check"></i><b>18.1</b> Package Structure</a></li>
<li class="chapter" data-level="18.2" data-path="benefits.html"><a href="benefits.html"><i class="fa fa-check"></i><b>18.2</b> Benefits</a></li>
<li class="chapter" data-level="18.3" data-path="converting-an-existing-app.html"><a href="converting-an-existing-app.html"><i class="fa fa-check"></i><b>18.3</b> Converting an existing app</a></li>
<li class="chapter" data-level="18.4" data-path="example-shinysurveys.html"><a href="example-shinysurveys.html"><i class="fa fa-check"></i><b>18.4</b> Example: shinysurveys</a><ul>
<li class="chapter" data-level="18.4.1" data-path="example-shinysurveys.html"><a href="example-shinysurveys.html#installation"><i class="fa fa-check"></i><b>18.4.1</b> Installation</a></li>
<li class="chapter" data-level="18.4.2" data-path="example-shinysurveys.html"><a href="example-shinysurveys.html#demo"><i class="fa fa-check"></i><b>18.4.2</b> Demo</a></li>
<li class="chapter" data-level="18.4.3" data-path="example-shinysurveys.html"><a href="example-shinysurveys.html#lets-take-a-look"><i class="fa fa-check"></i><b>18.4.3</b> Let’s take a look!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="security.html"><a href="security.html"><i class="fa fa-check"></i><b>19</b> Security</a><ul>
<li class="chapter" data-level="19.1" data-path="introduction-7.html"><a href="introduction-7.html"><i class="fa fa-check"></i><b>19.1</b> Introduction</a></li>
<li class="chapter" data-level="19.2" data-path="the-security-within-your-app.html"><a href="the-security-within-your-app.html"><i class="fa fa-check"></i><b>19.2</b> The security within your app</a></li>
<li class="chapter" data-level="19.3" data-path="compute-resources.html"><a href="compute-resources.html"><i class="fa fa-check"></i><b>19.3</b> Compute resources</a></li>
<li class="chapter" data-level="19.4" data-path="publishing-on-shinyapps-io.html"><a href="publishing-on-shinyapps-io.html"><i class="fa fa-check"></i><b>19.4</b> Publishing on shinyapps.io</a></li>
<li class="chapter" data-level="19.5" data-path="conclusions-2.html"><a href="conclusions-2.html"><i class="fa fa-check"></i><b>19.5</b> Conclusions:</a><ul>
<li class="chapter" data-level="19.5.1" data-path="conclusions-2.html"><a href="conclusions-2.html#resources-2"><i class="fa fa-check"></i><b>19.5.1</b> Resources:</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Mastering Shiny Book Club</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-security-within-your-app" class="section level2">
<h2><span class="header-section-number">19.2</span> The security within your app</h2>
<p>Two main security actions:</p>
<div id="htmlwidget-b1e57a2213f71daeda1b" style="width:100%;height:100%;" class="DiagrammeR html-widget"></div>
<script type="application/json" data-for="htmlwidget-b1e57a2213f71daeda1b">{"x":{"diagram":"\ngraph LR\nA(validation)-.and.-B(isolation)\nstyle A fill:#f9f\nstyle B fill:#f9f"},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>Shiny <code>inputs</code> use client-side <strong>validation</strong> such as data that is user-specific and need the user to authenticate before use</p></li>
<li><p>Shiny <code>server()</code> code <strong>isolation</strong>; one user cannot see data from another user in a different session, the only exception is if caching is in use, more about this is specified in the last chapter of the book</p></li>
</ul>
<hr />
<p><strong>Data</strong></p>
<p>Sensitive data and passwords are the most targeted objectives of the attackers, for this reason is recommended to:</p>
<ul>
<li><p>do not store password in the source code of your app, but eventually, in a variable in the environment</p></li>
<li><p>use a <strong>.yml</strong> file to store login credentials</p></li>
<li><p>use <code>.gitignore</code> to include the appropriate files containing your authentication credentials</p></li>
</ul>
<hr />
<p><strong>Authentication</strong> and <strong>client-side validation</strong></p>
There is more than one alternative to authenticate, first thing is that you need to <strong>add some kind of layer between the user interface and the Shiny server</strong>, i.e. a <strong>proxy</strong>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-88"></span>
<img src="images/22-security/proxi.png" alt="proxy" width="50%" />
<p class="caption">
Figure 19.1: proxy
</p>
</div>
<p>It will redirect the user to an authentication page, as in a login page, and once authenticated it will check whether the user is authorized, and then let them get access to the Shiny application.</p>
<hr />
<p>The following section lists five packages for configuration, authentication, and storage of login credentials. There are several options to choose from based on your need and design of the app.</p>
<p><strong>Packages:</strong></p>
<p>1 - The first package suggested by the <a href="https://mastering-shiny.org/scaling-security.html">book</a> is <strong><a href="https://cran.r-project.org/web/packages/config/vignettes/introduction.html">{config}</a></strong> package, it is used to manage environment specific configuration values.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-89"></span>
<img src="images/22-security/config.svg" alt="config package" width="15%" />
<p class="caption">
Figure 19.2: config package
</p>
</div>
<p>How to install <strong>config</strong> and all the other packages (substituting the package’s name where appropriate):</p>
<p>install.packages(“config”)
library(config)</p>
<p>How to store the password in a file with <a href="https://db.rstudio.com/best-practices/managing-credentials/">config in practice</a> ?</p>
<p>The package makes easier to deploy content, and in this context is used to keep the credentials outside of the R script by saving them in the <strong>config.yml</strong> file while keeping it in the current working directory.</p>
<p><a href="https://yaml.org/about.html">YAML(tm)</a> are type of files made for making easier international collaboration with a language which is both human readable and computationally powerful.</p>
<p>An example of a .yml file is a <strong>config.yml</strong> file:</p>
<p>default:
uid: “my-name”
pwd: “my-password”</p>
<p>And to recall the information back from its directory:</p>
<p>config &lt;- config::get(file = “conf/config.yml”)
config<span class="math inline">\(uid  config\)</span>pwd</p>
<hr />
<p>2 - Another interesting package, mentioned in the search-engine of “securing a Shiny app” is <strong><a href="https://curso-r.github.io/auth0/index.html">{auth0}</a></strong> package.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-90"></span>
<img src="images/22-security/auth0.png" alt="auth0 package" width="15%" />
<p class="caption">
Figure 19.3: auth0 package
</p>
</div>
<p>It is an identity provider, it offers a server where to store shiny apps as well as procedures for setting credentials at access. You need an account where to load your app and set up the credentials.</p>
<p><code>_auth0.yml</code> files can be created with the command <code>use_auth0()</code> which can be automatically positioned in the app.R directory and it is already filled with basic information:</p>
<p>auth0::use_auth0()</p>
<p>Here is the content of the <code>_auth0.yml</code> file:</p>
<p>name: myApp
remote_url: ’’
auth0_config:
api_url: !expr paste0(‘<a href="https://" class="uri">https://</a>’, Sys.getenv(‘AUTH0_USER’), ‘.auth0.com’)
credentials:
key: !expr Sys.getenv(“AUTH0_KEY”)
secret: !expr Sys.getenv(“AUTH0_SECRET”)</p>
<p>Then set up the keys using</p>
<p>usethis::edit_r_environ(“project”)</p>
<p>which adds a <code>.Renviron</code> file in your project directory for you to modify the content with</p>
<p>AUTH0_USER = …
AUTH0_KEY = …
AUTH0_SECRET = …</p>
<p>It adds a layer between Shiny and the user. And then you can retrieve the credentials using <code>Sys.getenv()</code></p>
<p>auth0::Sys.getenv(“AUTH0_USER”)</p>
<p>This method is not exclusive of <code>auth0</code>package but is a recommended approach to use for storing <strong>Credentials inside Environment Variables</strong> even with other packages.</p>
<hr />
<p>3 - A simple and secure authentication mechanism for single ‘Shiny’ applications is through <strong><a href="https://datastorm-open.github.io/shinymanager/">{shinymanager}</a></strong> package.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-91"></span>
<img src="images/22-security/shinymanager.png" alt="shinymanager package" width="25%" />
<p class="caption">
Figure 19.4: shinymanager package
</p>
</div>
<p>Here is a live demonstration of the potentiality of this package:</p>
<ul>
<li><a href="http://shinyapps.dreamrs.fr/shinymanager-demo/">Shiny-server</a></li>
<li><a href="https://dreamrs.shinyapps.io/shinymanager-demo/">shinyapps.io</a></li>
</ul>
<p>it follows with these authentication credentials:</p>
<p>user: shiny / password: shiny
user: shinymanager / password: shinymanager (Admin)</p>
<p>In particular it provides a function to <code>secure_app()</code> in which to wrap the <code>ui</code>:</p>
<p>Wrap your UI with secure_app
ui &lt;- secure_app(ui, choose_language = TRUE)</p>
<p>As well as in the <code>server()</code> with the following commands:</p>
<p>secure_server()
check_credentials()</p>
<hr />
4 - The <strong><a href="https://paulc91.github.io/shinyauthr/">{shinyauthr}</a></strong> package is very useful for providing key function to use.
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-92"></span>
<img src="images/22-security/shinyauthr.png" alt="shinyauthr package" width="25%" />
<p class="caption">
Figure 19.5: shinyauthr package
</p>
</div>
<p>These are the main functions which invisibly call JavaScript with the command <code>shinyjs::useShinyjs()</code> internally:</p>
<p>loginUI()
loginServer()
logoutUI()
logoutServer()</p>
<p>It also provides a method for <strong>cookie-based automatic login</strong>, which means that the system can store the credentials for some time as established by the creator of the app.</p>
<hr />
5 - <strong><a href="https://github.com/jeroen/sodium">{sodium}</a></strong> package is software library for encryption, decryption, signatures, password hashing and more.
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-93"></span>
<img src="images/22-security/sodium.png" alt="sodium package" width="25%" />
<p class="caption">
Figure 19.6: sodium package
</p>
</div>
<p>Generally used in this contest to encrypt passwords with simple commands such as:</p>
<p>user_name = “user_authr_1”,
password = sodium::password_store(“pass_authr_1”)</p>
<p>which releases the password in this format:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="the-security-within-your-app.html#cb183-1"></a>password =<span class="st"> &quot;pass_authr_1&quot;</span></span>
<span id="cb183-2"><a href="the-security-within-your-app.html#cb183-2"></a>sodium<span class="op">::</span><span class="kw">password_store</span>(password)</span></code></pre></div>
<pre><code>## [1] &quot;$7$C6..../....3sCEJ8KiXSqAnwF9GpAmUhwR5IcHA/6L.GeVAst7kr5$vmunF6C3bC5xCT2EBtHhJFvLylZkyqNfd0SF5SZEZRA&quot;</code></pre>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="the-security-within-your-app.html#cb185-1"></a>hash &lt;-<span class="st"> </span>sodium<span class="op">::</span><span class="kw">password_store</span>(password)</span>
<span id="cb185-2"><a href="the-security-within-your-app.html#cb185-2"></a>sodium<span class="op">::</span><span class="kw">password_verify</span>(hash, password)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<hr />
<p>Another suggestion by the <a href="https://mastering-shiny.org/scaling-security.html">book</a> is to use:</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-96"></span>
<img src="images/22-security/kerberos.png" alt="Kerberos" width="25%" />
<p class="caption">
Figure 19.7: Kerberos
</p>
</div>
<p><a href="https://solutions.rstudio.com/sys-admin/auth/kerberos/">Kerberos</a> (/ˈkɜːrbərɒs/) is a computer-network authentication protocol developed by Massachusetts Institute of Technology (MIT) and classified as “Auxiliary Military Equipment” by the authorites for its capacities of Data Encryption Standard (DES).</p>
<p>The development of the product followed with version updates and the implementation by other institutions included the Royal Institute of Technology in Sweden and the Stanford University made the system available outside the US with some limitations.
Kerberos is available with RStudio Pro Products.</p>
<hr />
<p>In general what happens in an app when setting up login credentials is described below.</p>
<p>In the <code>ui</code> you can use these commands for wrapping your code and build a module, while in the <code>server()</code> you should mind not to storage any form of credentials, but as said, storage them in a separate file (.xlm , .yml , .rds, .Renviron, …).</p>
<p>The <code>server()</code> should include the <code>eventReactive()</code> function to check whether the user’s login and password are valid credentials, raising a silent validation error.</p>
<p>server&lt;- function(input,output,session){</p>
<p>eventReactive()</p>
<p>}</p>
<hr />
<p><strong>Examples:</strong></p>
<p>1 - In this example is shown for simplicity an application of the <strong>{shinyauthr}</strong>: the credentials are located inside the <code>server()</code>, they should be in a <code>config.yml</code> file and then retrieved for use.</p>
<p>You may find yourself being prompted with something like this:</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-97"></span>
<img src="images/22-security/login.png" alt="Credentials" width="50%" />
<p class="caption">
Figure 19.8: Credentials
</p>
</div>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="the-security-within-your-app.html#cb187-1"></a><span class="kw">library</span>(shiny)</span>
<span id="cb187-2"><a href="the-security-within-your-app.html#cb187-2"></a></span>
<span id="cb187-3"><a href="the-security-within-your-app.html#cb187-3"></a><span class="co"># dataframe that holds usernames, passwords and other user data</span></span>
<span id="cb187-4"><a href="the-security-within-your-app.html#cb187-4"></a>user_base &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">tibble</span>(</span>
<span id="cb187-5"><a href="the-security-within-your-app.html#cb187-5"></a>  <span class="dt">user =</span> <span class="kw">c</span>(<span class="st">&quot;user1&quot;</span>, <span class="st">&quot;user2&quot;</span>),</span>
<span id="cb187-6"><a href="the-security-within-your-app.html#cb187-6"></a>  <span class="dt">password =</span> <span class="kw">c</span>(<span class="st">&quot;pass1&quot;</span>, <span class="st">&quot;pass2&quot;</span>),</span>
<span id="cb187-7"><a href="the-security-within-your-app.html#cb187-7"></a>  <span class="dt">permissions =</span> <span class="kw">c</span>(<span class="st">&quot;admin&quot;</span>, <span class="st">&quot;standard&quot;</span>),</span>
<span id="cb187-8"><a href="the-security-within-your-app.html#cb187-8"></a>  <span class="dt">name =</span> <span class="kw">c</span>(<span class="st">&quot;User One&quot;</span>, <span class="st">&quot;User Two&quot;</span>)</span>
<span id="cb187-9"><a href="the-security-within-your-app.html#cb187-9"></a>)</span>
<span id="cb187-10"><a href="the-security-within-your-app.html#cb187-10"></a></span>
<span id="cb187-11"><a href="the-security-within-your-app.html#cb187-11"></a></span>
<span id="cb187-12"><a href="the-security-within-your-app.html#cb187-12"></a>ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</span>
<span id="cb187-13"><a href="the-security-within-your-app.html#cb187-13"></a>  <span class="co"># add logout button UI</span></span>
<span id="cb187-14"><a href="the-security-within-your-app.html#cb187-14"></a>  <span class="kw">div</span>(<span class="dt">class =</span>  <span class="st">&quot;pull-right&quot;</span>, <span class="co"># The HTML tag functions in Shiny, like div() and p() return objects that can be rendered as HTML</span></span>
<span id="cb187-15"><a href="the-security-within-your-app.html#cb187-15"></a>      shinyauthr<span class="op">::</span><span class="kw">logoutUI</span>(</span>
<span id="cb187-16"><a href="the-security-within-your-app.html#cb187-16"></a>        <span class="dt">id =</span> <span class="st">&quot;logout&quot;</span>)),</span>
<span id="cb187-17"><a href="the-security-within-your-app.html#cb187-17"></a>  <span class="co"># add login panel UI function</span></span>
<span id="cb187-18"><a href="the-security-within-your-app.html#cb187-18"></a>      shinyauthr<span class="op">::</span><span class="kw">loginUI</span>(</span>
<span id="cb187-19"><a href="the-security-within-your-app.html#cb187-19"></a>        <span class="dt">id =</span> <span class="st">&quot;login&quot;</span>),</span>
<span id="cb187-20"><a href="the-security-within-your-app.html#cb187-20"></a>  <span class="co"># setup table output to show user info after login</span></span>
<span id="cb187-21"><a href="the-security-within-your-app.html#cb187-21"></a>  <span class="kw">tableOutput</span>(<span class="st">&quot;user_table&quot;</span>)</span>
<span id="cb187-22"><a href="the-security-within-your-app.html#cb187-22"></a>)</span>
<span id="cb187-23"><a href="the-security-within-your-app.html#cb187-23"></a></span>
<span id="cb187-24"><a href="the-security-within-your-app.html#cb187-24"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output, session) {</span>
<span id="cb187-25"><a href="the-security-within-your-app.html#cb187-25"></a>  <span class="co"># call login module supplying data frame, </span></span>
<span id="cb187-26"><a href="the-security-within-your-app.html#cb187-26"></a>  <span class="co"># user and password cols and reactive trigger</span></span>
<span id="cb187-27"><a href="the-security-within-your-app.html#cb187-27"></a>  credentials &lt;-<span class="st"> </span>shinyauthr<span class="op">::</span><span class="kw">loginServer</span>(</span>
<span id="cb187-28"><a href="the-security-within-your-app.html#cb187-28"></a>    <span class="dt">id =</span> <span class="st">&quot;login&quot;</span>,</span>
<span id="cb187-29"><a href="the-security-within-your-app.html#cb187-29"></a>    <span class="dt">data =</span> user_base,</span>
<span id="cb187-30"><a href="the-security-within-your-app.html#cb187-30"></a>    <span class="dt">user_col =</span> user,</span>
<span id="cb187-31"><a href="the-security-within-your-app.html#cb187-31"></a>    <span class="dt">pwd_col =</span> password,</span>
<span id="cb187-32"><a href="the-security-within-your-app.html#cb187-32"></a>    <span class="dt">log_out =</span> <span class="kw">reactive</span>(<span class="kw">logout_init</span>())</span>
<span id="cb187-33"><a href="the-security-within-your-app.html#cb187-33"></a>  )</span>
<span id="cb187-34"><a href="the-security-within-your-app.html#cb187-34"></a>  </span>
<span id="cb187-35"><a href="the-security-within-your-app.html#cb187-35"></a>  <span class="co"># call the logout module with reactive trigger to hide/show</span></span>
<span id="cb187-36"><a href="the-security-within-your-app.html#cb187-36"></a>  logout_init &lt;-<span class="st"> </span>shinyauthr<span class="op">::</span><span class="kw">logoutServer</span>(</span>
<span id="cb187-37"><a href="the-security-within-your-app.html#cb187-37"></a>    <span class="dt">id =</span> <span class="st">&quot;logout&quot;</span>,</span>
<span id="cb187-38"><a href="the-security-within-your-app.html#cb187-38"></a>    <span class="dt">active =</span> <span class="kw">reactive</span>(<span class="kw">credentials</span>()<span class="op">$</span>user_auth)</span>
<span id="cb187-39"><a href="the-security-within-your-app.html#cb187-39"></a>  )</span>
<span id="cb187-40"><a href="the-security-within-your-app.html#cb187-40"></a>  </span>
<span id="cb187-41"><a href="the-security-within-your-app.html#cb187-41"></a>  output<span class="op">$</span>user_table &lt;-<span class="st"> </span><span class="kw">renderTable</span>({</span>
<span id="cb187-42"><a href="the-security-within-your-app.html#cb187-42"></a>    <span class="co"># use req to only render results when credentials()$user_auth is TRUE</span></span>
<span id="cb187-43"><a href="the-security-within-your-app.html#cb187-43"></a>    <span class="kw">req</span>(<span class="kw">credentials</span>()<span class="op">$</span>user_auth) <span class="co"># only run after a successful login</span></span>
<span id="cb187-44"><a href="the-security-within-your-app.html#cb187-44"></a>    <span class="kw">credentials</span>()<span class="op">$</span>info</span>
<span id="cb187-45"><a href="the-security-within-your-app.html#cb187-45"></a>  })</span>
<span id="cb187-46"><a href="the-security-within-your-app.html#cb187-46"></a>}</span>
<span id="cb187-47"><a href="the-security-within-your-app.html#cb187-47"></a></span>
<span id="cb187-48"><a href="the-security-within-your-app.html#cb187-48"></a><span class="co">#shinyApp(ui = ui, server = server)</span></span></code></pre></div>
<p>When accessing an API or database in R, Shiny inputs use <strong>client-side validation</strong> and often requires to <a href="https://www.r-bloggers.com/2019/03/how-to-avoid-publishing-credentials-in-your-code/">provide credentials</a> such as a login name and password.</p>
<p>2 - Another example of Shiny inputs using <strong>client-side validation</strong> (input performed by JavaScript in the browser) where is possible for an attacker to send unexpected values is:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="the-security-within-your-app.html#cb188-1"></a>secrets &lt;-<span class="st"> </span><span class="kw">list</span>(</span>
<span id="cb188-2"><a href="the-security-within-your-app.html#cb188-2"></a>  <span class="dt">a =</span> <span class="st">&quot;my name&quot;</span>,</span>
<span id="cb188-3"><a href="the-security-within-your-app.html#cb188-3"></a>  <span class="dt">b =</span> <span class="st">&quot;my birthday&quot;</span>,</span>
<span id="cb188-4"><a href="the-security-within-your-app.html#cb188-4"></a>  <span class="dt">c =</span> <span class="st">&quot;my social security number&quot;</span>, </span>
<span id="cb188-5"><a href="the-security-within-your-app.html#cb188-5"></a>  <span class="dt">d =</span> <span class="st">&quot;my credit card&quot;</span></span>
<span id="cb188-6"><a href="the-security-within-your-app.html#cb188-6"></a>)</span>
<span id="cb188-7"><a href="the-security-within-your-app.html#cb188-7"></a></span>
<span id="cb188-8"><a href="the-security-within-your-app.html#cb188-8"></a>allowed &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>)</span>
<span id="cb188-9"><a href="the-security-within-your-app.html#cb188-9"></a>ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</span>
<span id="cb188-10"><a href="the-security-within-your-app.html#cb188-10"></a>  <span class="kw">selectInput</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;x&quot;</span>, <span class="dt">choices =</span> allowed),</span>
<span id="cb188-11"><a href="the-security-within-your-app.html#cb188-11"></a>  <span class="kw">textOutput</span>(<span class="st">&quot;secret&quot;</span>)</span>
<span id="cb188-12"><a href="the-security-within-your-app.html#cb188-12"></a>)</span></code></pre></div>
<p>An attacker can open up a JavaScript console in their browser and run <code>Shiny.setInputValue("x", "c")</code> to see client data that are not allowed to see.</p>
<p>To add a layer of security, in the <code>server()</code> is added the <code>req()</code> function, which ensure that values are available, and if any of the given values is not truthy, the operation is stopped by raising a “silent” exception.</p>
<p>?req()</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="the-security-within-your-app.html#cb189-1"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output, session) {</span>
<span id="cb189-2"><a href="the-security-within-your-app.html#cb189-2"></a>  output<span class="op">$</span>secret &lt;-<span class="st"> </span><span class="kw">renderText</span>({</span>
<span id="cb189-3"><a href="the-security-within-your-app.html#cb189-3"></a>    <span class="kw">req</span>(input<span class="op">$</span>x <span class="op">%in%</span><span class="st"> </span>allowed) <span class="co"># this function </span></span>
<span id="cb189-4"><a href="the-security-within-your-app.html#cb189-4"></a>    secrets[[input<span class="op">$</span>x]]</span>
<span id="cb189-5"><a href="the-security-within-your-app.html#cb189-5"></a>  })</span>
<span id="cb189-6"><a href="the-security-within-your-app.html#cb189-6"></a>}</span>
<span id="cb189-7"><a href="the-security-within-your-app.html#cb189-7"></a></span>
<span id="cb189-8"><a href="the-security-within-your-app.html#cb189-8"></a><span class="co"># shinyApp(ui = ui, server = server)</span></span></code></pre></div>
<hr />
<p>Finally, in case you want to skip the authentication step when testing the app:</p>
<ul>
<li>Use <code>testthat::skip()</code> to automatically skip tests that require authentication.</li>
</ul>
<hr />
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-7.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="compute-resources.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/r4ds/bookclub-mshiny/edit/main/22-security.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
